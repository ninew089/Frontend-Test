{"ast":null,"code":"import axios from 'axios';\nimport { NavLink, useHistory } from 'react-router-dom';\nconst LOAD_LOGIN_REQUEST = 'hostel_management/src/login/LOAD_LOGIN_REQUEST';\nconst LOAD_LOGIN_SUCCESS = 'hostel_management/src/login/LOAD_LOGIN_SUCCESS';\nconst LOAD_LOGIN_FAILURE = 'hostel_management/src/login/LOAD_LOGIN_REQUEST';\nconst LOGIN_CHECK = 'hostel_management/src/login/LOGIN_CHECK';\nconst SET_LOGIN = 'hostel_management/src/login/SET_LOGIN';\nconst history = useHistory();\n\nfunction loadLogin(loginInfo) {\n  return async dispatch => {\n    dispatch({\n      type: LOAD_LOGIN_REQUEST\n    });\n\n    try {\n      const {\n        data\n      } = await axios.post(`https://8a2fc1a9-0d10-4a86-8098-56ddb92a968a.mock.pstmn.io/book/${loginInfo.email}&&${loginInfo.password}`);\n      dispatch({\n        type: LOAD_LOGIN_SUCCESS,\n        payload: {\n          token: data\n        }\n      });\n      history.push('/');\n    } catch (err) {\n      dispatch({\n        type: LOAD_LOGIN_FAILURE\n      });\n    }\n  };\n}\n\nfunction setLogin(login) {\n  return {\n    type: SET_LOGIN,\n    payload: {\n      login\n    }\n  };\n}\n\nexport { LOAD_LOGIN_REQUEST, LOAD_LOGIN_SUCCESS, LOAD_LOGIN_FAILURE, LOGIN_CHECK, SET_LOGIN, loadLogin, setLogin };","map":{"version":3,"sources":["/Users/ninew/hostel_management/src/modules/login/action.js"],"names":["axios","NavLink","useHistory","LOAD_LOGIN_REQUEST","LOAD_LOGIN_SUCCESS","LOAD_LOGIN_FAILURE","LOGIN_CHECK","SET_LOGIN","history","loadLogin","loginInfo","dispatch","type","data","post","email","password","payload","token","push","err","setLogin","login"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AAEA,MAAMC,kBAAkB,GAAG,gDAA3B;AACA,MAAMC,kBAAkB,GAAG,gDAA3B;AACA,MAAMC,kBAAkB,GAAG,gDAA3B;AACA,MAAMC,WAAW,GAAG,yCAApB;AACA,MAAMC,SAAS,GAAG,uCAAlB;AAEA,MAAMC,OAAO,GAAEN,UAAU,EAAzB;;AACA,SAASO,SAAT,CAAmBC,SAAnB,EAA8B;AAI5B,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAET;AAAR,KAAD,CAAR;;AACA,QAAI;AACF,YAAM;AAAEU,QAAAA;AAAF,UAAW,MAAMb,KAAK,CAACc,IAAN,CAAY,mEAAkEJ,SAAS,CAACK,KAAM,KAAIL,SAAS,CAACM,QAAS,EAArH,CAAvB;AACAL,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAER,kBADC;AAEPa,QAAAA,OAAO,EAAE;AACPC,UAAAA,KAAK,EAAEL;AADA;AAFF,OAAD,CAAR;AAMAL,MAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD,KATD,CASE,OAAOC,GAAP,EAAY;AACZT,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEP;AAAR,OAAD,CAAR;AACD;AACF,GAdD;AAeD;;AAID,SAASgB,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,SAAO;AACLV,IAAAA,IAAI,EAAEL,SADD;AAELU,IAAAA,OAAO,EAAE;AACPK,MAAAA;AADO;AAFJ,GAAP;AAMD;;AAED,SACEnB,kBADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,WAJF,EAKEC,SALF,EAMEE,SANF,EAOEY,QAPF","sourcesContent":["import axios from 'axios'\nimport { NavLink, useHistory } from 'react-router-dom'\n\nconst LOAD_LOGIN_REQUEST = 'hostel_management/src/login/LOAD_LOGIN_REQUEST'\nconst LOAD_LOGIN_SUCCESS = 'hostel_management/src/login/LOAD_LOGIN_SUCCESS'\nconst LOAD_LOGIN_FAILURE = 'hostel_management/src/login/LOAD_LOGIN_REQUEST'\nconst LOGIN_CHECK = 'hostel_management/src/login/LOGIN_CHECK'\nconst SET_LOGIN = 'hostel_management/src/login/SET_LOGIN'\n\nconst history =useHistory()\nfunction loadLogin(loginInfo) {\n\n\n\n  return async (dispatch) => {\n    dispatch({ type: LOAD_LOGIN_REQUEST })\n    try {\n      const { data } = await axios.post(`https://8a2fc1a9-0d10-4a86-8098-56ddb92a968a.mock.pstmn.io/book/${loginInfo.email}&&${loginInfo.password}`)\n      dispatch({\n        type: LOAD_LOGIN_SUCCESS,\n        payload: {\n          token: data,\n        },\n      })\n      history.push('/')\n    } catch (err) {\n      dispatch({ type: LOAD_LOGIN_FAILURE })\n    }\n  }\n}\n\n\n\nfunction setLogin(login) {\n  return {\n    type: SET_LOGIN,\n    payload: {\n      login,\n    },\n  }\n}\n\nexport {\n  LOAD_LOGIN_REQUEST,\n  LOAD_LOGIN_SUCCESS,\n  LOAD_LOGIN_FAILURE,\n  LOGIN_CHECK,\n  SET_LOGIN,\n  loadLogin,\n  setLogin,\n}\n"]},"metadata":{},"sourceType":"module"}