{"ast":null,"code":"import * as proActions from 'modules/products/actions';\nconst ADD_TO_CART = 'src/hostel/ADD_TO_CART';\nconst REMOVE_FROM_CART = 'src/hostel/REMOVE_FROM_CART';\nconst CLEAR_HOSTEL = 'src/hostel/CLEAR_HOSTEL';\n\nfunction addToCart(productId) {\n  return dispatch => {\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        productId\n      }\n    });\n  };\n}\n\nfunction loadCart() {\n  return (dispatch, getState) => {\n    const {\n      cart: {\n        productIds\n      }\n    } = getState();\n\n    if (productIds.length === 0) {\n      return dispatch(productActions.clearProducts());\n    }\n\n    const query = productIds.map(id => `id=${id}`).join('&');\n    dispatch(productActions.loadProducts(`?${query}`));\n  };\n}\n\nfunction removeFromCart(productId) {\n  return dispatch => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      payload: {\n        productId\n      }\n    });\n    dispatch(loadCart());\n  };\n}\n\nfunction clearHostel() {\n  return {\n    type: CLEAR_HOSTEL\n  };\n}\n\nexport { ADD_TO_CART, REMOVE_FROM_CART, CLEAR_HOSTEL, addToCart, loadCart, removeFromCart, clearHostel };","map":{"version":3,"sources":["/Users/ninew/Documents/GitHub/Frontend-Test/src/modules/hostel/action.js"],"names":["proActions","ADD_TO_CART","REMOVE_FROM_CART","CLEAR_HOSTEL","addToCart","productId","dispatch","type","payload","loadCart","getState","cart","productIds","length","productActions","clearProducts","query","map","id","join","loadProducts","removeFromCart","clearHostel"],"mappings":"AAAA,OAAO,KAAKA,UAAZ,MAA4B,0BAA5B;AACA,MAAMC,WAAW,GAAG,wBAApB;AACA,MAAMC,gBAAgB,GAAG,6BAAzB;AACA,MAAMC,YAAY,GAAG,yBAArB;;AAEA,SAASC,SAAT,CAAmBC,SAAnB,EAA8B;AAC5B,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEN,WADC;AAEPO,MAAAA,OAAO,EAAE;AACPH,QAAAA;AADO;AAFF,KAAD,CAAR;AAMD,GAPD;AAQD;;AAED,SAASI,QAAT,GAAoB;AAChB,SAAO,CAACH,QAAD,EAAWI,QAAX,KAAwB;AAC3B,UAAM;AACFC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AADJ,QAEFF,QAAQ,EAFZ;;AAIA,QAAIE,UAAU,CAACC,MAAX,KAAsB,CAA1B,EAA6B;AAC/B,aAAOP,QAAQ,CAACQ,cAAc,CAACC,aAAf,EAAD,CAAf;AACD;;AAED,UAAMC,KAAK,GAAGJ,UAAU,CAACK,GAAX,CAAgBC,EAAD,IAAS,MAAKA,EAAG,EAAhC,EAAmCC,IAAnC,CAAwC,GAAxC,CAAd;AAEAb,IAAAA,QAAQ,CAACQ,cAAc,CAACM,YAAf,CAA6B,IAAGJ,KAAM,EAAtC,CAAD,CAAR;AAED,GAbC;AAgBH;;AAED,SAASK,cAAT,CAAwBhB,SAAxB,EAAmC;AACjC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,gBADC;AAEPM,MAAAA,OAAO,EAAE;AACPH,QAAAA;AADO;AAFF,KAAD,CAAR;AAMAC,IAAAA,QAAQ,CAACG,QAAQ,EAAT,CAAR;AACD,GARD;AASD;;AACD,SAASa,WAAT,GAAuB;AACrB,SAAO;AACLf,IAAAA,IAAI,EAAEJ;AADD,GAAP;AAGD;;AAGD,SACEF,WADF,EAEEC,gBAFF,EAGEC,YAHF,EAIEC,SAJF,EAKEK,QALF,EAMEY,cANF,EAOEC,WAPF","sourcesContent":["import * as proActions from 'modules/products/actions'\nconst ADD_TO_CART = 'src/hostel/ADD_TO_CART'\nconst REMOVE_FROM_CART = 'src/hostel/REMOVE_FROM_CART'\nconst CLEAR_HOSTEL = 'src/hostel/CLEAR_HOSTEL'\n\nfunction addToCart(productId) {\n  return (dispatch) => {\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        productId,\n      },\n    })\n  }\n}\n\nfunction loadCart() {\n    return (dispatch, getState) => {\n        const {\n            cart: { productIds },\n        } = getState()\n\n        if (productIds.length === 0) {\n      return dispatch(productActions.clearProducts())\n    }\n\n    const query = productIds.map((id) => `id=${id}`).join('&')\n\n    dispatch(productActions.loadProducts(`?${query}`))\n\n  }\n     \n    \n}\n\nfunction removeFromCart(productId) {\n  return (dispatch) => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      payload: {\n        productId,\n      },\n    })\n    dispatch(loadCart())\n  }\n}\nfunction clearHostel() {\n  return {\n    type: CLEAR_HOSTEL,\n  }\n}\n\n\nexport {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  CLEAR_HOSTEL,\n  addToCart,\n  loadCart,\n  removeFromCart,\n  clearHostel,\n\n}\n"]},"metadata":{},"sourceType":"module"}